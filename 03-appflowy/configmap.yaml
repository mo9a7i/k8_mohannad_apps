apiVersion: v1
kind: ConfigMap
metadata:
  name: appflowy-config
  namespace: appflowy
data:
  # Core AppFlowy Configuration
  APPFLOWY_WEB_URL: "https://appflowy.mohannadotaibi.com"
  APPFLOWY_BASE_URL: "https://appflowy.mohannadotaibi.com"
  APPFLOWY_WEBSOCKET_BASE_URL: "wss://appflowy.mohannadotaibi.com/ws/v2"
  
  # GoTrue Configuration
  APPFLOWY_GOTRUE_BASE_URL: "http://gotrue-service:9999"
  
  # Database Configuration
  APPFLOWY_DATABASE_MAX_CONNECTIONS: "40"
  
  # Access Control & WebSocket
  APPFLOWY_ACCESS_CONTROL: "true"
  APPFLOWY_WEBSOCKET_MAILBOX_SIZE: "6000"
  
  # S3 Configuration (Hetzner Object Storage)
  APPFLOWY_S3_USE_MINIO: "false"  # Using Hetzner, not MinIO
  APPFLOWY_S3_CREATE_BUCKET: "false"  # Assume bucket exists
  APPFLOWY_S3_BUCKET: "appflowy-prod"
  APPFLOWY_S3_REGION: "eu-central-1"
  APPFLOWY_S3_ENDPOINT: "https://hel1.your-objectstorage.com"
  
  # Logging
  RUST_LOG: "info"
  
  # Collaboration Service
  APPFLOWY_COLLABORATE_MULTI_THREAD: "false"
  APPFLOWY_COLLABORATE_REMOVE_BATCH_SIZE: "100"
  
  # Indexer Configuration
  APPFLOWY_INDEXER_ENABLED: "true"
  APPFLOWY_INDEXER_EMBEDDING_BUFFER_SIZE: "5000"
